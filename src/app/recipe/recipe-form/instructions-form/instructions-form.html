<form [formGroup]="instructionsForm">
<!-- <form [formGroup]="instructionsForm" (ngSubmit)="onSubmit()"></form> -->
    <div formArrayName="instructions">
        <div
            *ngFor="let instruction of instructions.controls; let i = index"
            [formGroupName]="i"
            class="instruction-row"
        >
            <div *ngIf="instruction.value.isEditing; else viewMode">
                <textarea
                    formControlName="step"
                    placeholder="Step {{ i + 1 }}:"
                    class="instruction-input"
                ></textarea>
                <button type="button" (click)="saveInstruction(i)">Save</button>
                <button type="button" (click)="removeInstruction(i)">Ã—</button>
            </div>

            <ng-template #viewMode>
                <p>
                    {{ instruction.value.step }} 
                </p>
                <button type="button" (click)="editInstruction(i)">edit</button>
                <button type="button" (click)="removeInstruction(i)">remove</button>
            </ng-template>
        </div>
    </div>
    <button type="button" (click)="addInstruction()">Add Step +</button>
</form>