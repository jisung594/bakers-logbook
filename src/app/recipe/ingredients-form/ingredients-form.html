<form [formGroup]="ingredientsForm" (ngSubmit)="onSubmit()">
    
    
    
    <!-- TODO: Move out to its own form -->
    <input 
        type="text" 
        id="recipe-name" 
        formControlName="name"
        placeholder="Recipe Name"
    />


    <div formArrayName="ingredients">
        <div
            *ngFor="let ingredient of ingredients.controls; let i = index"
            [formGroupName]="i"
            class="ingredient-row"
        >
            <input
                type="text"
                formControlName="quantity"
                placeholder="Quantity (e.g. 1 1/2)"
                class="ingredient-input"
            />

            <select formControlName="unit" class="ingredient-input">
                <option value="">-- Unit --</option>
                <option value="cup">cup</option>
                <option value="tbsp">tbsp</option>
                <option value="tsp">tsp</option>
                <option value="g">g</option>
                <option value="oz">oz</option>
            </select>

            <input
                type="text"
                formControlName="name"
                placeholder="Ingredient name"
                class="ingredient-input"
            />

            <button type="button" (click)="removeIngredient(i)">Ã—</button>
        </div>
    </div>

    <button type="button" (click)="addIngredient()">Add Ingredient</button>
    <button type="submit" [disabled]="!ingredientsForm.valid">Submit</button>
</form>