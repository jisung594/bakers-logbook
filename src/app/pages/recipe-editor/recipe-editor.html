<div class="recipe-editor">
    <div 
        *ngIf="isEditingTitle; else viewMode"
        class="mb-2"
    >
        <div>
            <input 
                type="text" 
                id="recipe-title"
                [(ngModel)]="title"
                [readonly]="!editable"
                placeholder="Title"
                class="font-heading text-2xl px-2 py-1 w-full mb-1 bg-light-blue rounded-sm"
            />
        </div>
         <!--[readonly]="!editable" (evaluates @Input() editable = true;)-->
        <div class="editing-options-editmode">
            <button 
                class="font-body font-medium text-sm px-2 py-0.5 rounded-sm bg-accent-light" 
                type="button" 
                (click)="saveTitle()"
            >save</button>
        </div>
    </div>

    <ng-template #viewMode>
        <div class="mb-2">
            <div class="mb-1 bg-light-gray rounded-sm">
                <h2 class="font-heading text-2xl px-2 py-1 w-full">
                    {{ title || 'Untitled Recipe' }}
                </h2>
            </div>
            <div class="editing-options-viewmode">
                <button 
                    class="font-body font-medium text-sm px-2 py-0.5 rounded-sm bg-light-blue" 
                    type="button" 
                    (click)="editTitle()"
                >edit</button>
            </div>
        </div>
    </ng-template>

    <h3>INGREDIENTS</h3>
    <app-ingredients-form
        [initialIngredients]="ingredients"
        [editable]="editable"
        (ingredientsChange)="onIngredientsChange($event)"
    >
    </app-ingredients-form>

    <h3>INSTRUCTIONS</h3>
    <app-instructions-form
        [initialInstructions]="instructions"
        [editable]="editable"
        (instructionsChange)="onInstructionsChange($event)"
    >
    </app-instructions-form>

    <!-- TODO: submit button for saving data to Firestore here  -->
    <button 
        type="button" 
        class="font-body font-semibold text-light text-sm tracking-widest px-1 py-1 rounded-sm bg-accent-dark"
        (click)="saveRecipe()"
    >SAVE</button>
</div>