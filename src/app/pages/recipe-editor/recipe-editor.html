<div class="recipe-editor">
    <div 
        *ngIf="isEditingTitle; else viewMode"
        class="flex"
    >
        <input 
            type="text" 
            id="recipe-title"
            [(ngModel)]="title"
            [readonly]="!editable"
            placeholder="Title"
            class="px-3 py-2 w-full mb-2 bg-light-blue"
        />
         <!--[readonly]="!editable" (evaluates @Input() editable = true;)-->
        <div class="editing-options-editmode">
            <button type="button" (click)="saveTitle()">Save</button>
        </div>
    </div>

    <ng-template #viewMode>
        <div class="mb-2">
            <div class="bg-light-gray px-3 py-2">
                <h2>{{ title || 'Untitled Recipe' }}</h2>
            </div>
            <div class="editing-options-viewmode">
                <button class="bg-light-blue px-2 py-1" type="button" (click)="editTitle()">edit</button>
            </div>
        </div>
    </ng-template>

    <h3>INGREDIENTS</h3>
    <app-ingredients-form
        [initialIngredients]="ingredients"
        [editable]="editable"
        (ingredientsChange)="onIngredientsChange($event)"
    >
    </app-ingredients-form>

    <h3>INSTRUCTIONS</h3>
    <app-instructions-form
        [initialInstructions]="instructions"
        [editable]="editable"
        (instructionsChange)="onInstructionsChange($event)"
    >
    </app-instructions-form>

    <!-- TODO: submit button for saving data to Firestore here  -->
    <button 
        type="button" 
        class="bg-accent p-1"
        (click)="saveRecipe()"
    >Save Recipe</button>
</div>